rule: "Enforce Planning File for Medium/Large Tasks"
alwaysApply: true

when:
  - user_request.type in ["feature_add", "feature_upgrade", "new_module", "major_refactor"]
  - not file_exists("Planning_[TenDuAn].md")

then:
  - block_action
  - show_message: |
      ğŸš« KHÃ”NG THá»‚ THá»°C HIá»†N NHIá»†M Vá»¤

      âŒ ChÆ°a cÃ³ file plan cho nhiá»‡m vá»¥ nÃ y (Planning_[TenDuAn].md)
      âŒ Cáº§n táº¡o vÃ  xÃ¡c nháº­n plan trÆ°á»›c khi thá»±c hiá»‡n

      ğŸ”„ HÃ£y báº¯t Ä‘áº§u vá»›i: "TÃ´i muá»‘n táº¡o plan cho [mÃ´ táº£ nhiá»‡m vá»¥]"
  - suggest_action: "Táº¡o plan cho nhiá»‡m vá»¥ nÃ y"

unless:
  - user_request.type in ["minor_fix", "typo", "small_refactor"]