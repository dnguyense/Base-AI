name: ios-rules
description: Comprehensive rules for iOS app development with Swift and SwiftUI
globs: "**/*.{swift,storyboard,xib,xcodeproj,xcworkspace,pbxproj,plist}"

- Sử dụng MVVM, Clean Architecture hoặc VIPER cho dự án
- Tách biệt rõ ràng các layer và áp dụng Dependency Injection
- Ưu tiên struct thay vì class và tận dụng Protocol-Oriented Programming
- Sử dụng SwiftUI cho dự án mới, UIKit khi cần tính năng đặc biệt
- Áp dụng Swift Concurrency (async/await) cho code bất đồng bộ
- Tránh blocking main thread và tối ưu hóa hiệu suất
- Sử dụng URLSession cho network requests với proper error handling
- Áp dụng Core Data cho persistent storage, Keychain cho dữ liệu nhạy cảm
- Viết unit tests cho business logic và UI tests cho critical flows
- Sử dụng Swift Package Manager (SPM) cho dependencies
- Tạo schemes cho các môi trường khác nhau (dev, staging, prod)
- Implement authentication, certificate pinning và các biện pháp bảo mật
- Hỗ trợ VoiceOver, Dynamic Type và các tính năng accessibility
- Sử dụng NSLocalizedString và Base Internationalization cho đa ngôn ngữ
- Tối ưu hóa app size và sử dụng TestFlight cho beta testing 